<!DOCTYPE html>
<html lang="en">
<head>
	<title>Mathematical Art with Elizabeth</title>
	<meta property="og:title" content="Mathematical Art with Elizabeth">
	<meta http-equiv="Content-Security-Policy" content="default-src 'self' http://localhost:*; img-src 'self' http://localhost:* blob:; script-src 'self' http://localhost:* cdn.jsdelivr.net/npm/popper.js@1.16.1/ code.jquery.com stackpath.bootstrapcdn.com; style-src 'self' http://localhost:* stackpath.bootstrapcdn.com 'unsafe-inline'; form-action 'self'; frame-src 'none'; object-src 'none'">

	<!-- Preloads -->
	<link rel="preload" as="style" href="fonts/pacifico.css">
	<link rel="preload" as="style" href="fonts/america.css">
	<link rel="preload" as="fetch" href="sketches.json" crossorigin>

	<!-- Stylesheets -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<link rel="stylesheet" href="css/math-art.css">
	<link rel="stylesheet" href="css/dark-mode.css" media="(prefers-color-scheme: dark)">

	<!-- Libraries -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous" defer></script>

	<!-- JavaScript -->
	<script src="js/util.js" defer></script>
	<script src="js/math-art.js" defer></script>

	<link rel="icon" href="img/spirograph.png">

	<meta name="viewport" content="initial-scale=1, minimum-scale=1">
	<meta name="description" content="Geometric art. Alter numerous parameters to make your own creations. Combine my programming, your crafted customizations and computer randomization. Create videos and still images. Visual sensory seeking stimulation for people with autism and everyone.">
	<meta property="og:image" content="img/social/square.png">
	<meta property="og:image:width" content="1009">
	<meta property="og:image:height" content="1009">
	<!--
	<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "WebApplication",
			"name": "Mathematical Art with Elizabeth",
			"offers": {
				"@type": "Offer",
				"price": "0"
			},
			TODO Add a review here https://developers.google.com/search/docs/data-types/review-snippet
			"applicationCategory": "DesignApplication"
		}
	</script>
	-->
</head>
<body style="background-color: #ffffff" class="m-0 overflow-hidden vh-100">

<div class="alert alert-danger alert-dismissible fade position-absolute top-2 center-x" role="alert" id="error-alert" style="z-index: 2000">
	<span></span>
	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
</div>

<div class="alert alert-success alert-dismissible fade position-absolute top-2 center-x" role="alert" id="success-alert" style="z-index: 2000">
	<span></span>
	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
</div>

<canvas id="background-canvas"></canvas>
<div id="author-hitbox" class="position-absolute" style="left: 0; bottom: 0; background-color: transparent">
	<form class="position-absolute bg-black p-2" hidden style="bottom: 0; width: 300px; z-index: 3" id="author-form">
		<div class="form-row">
			<label class="col-2 my-auto col-form-label col-form-label-sm" for="author">
				Name
			</label>
			<div class="col-8 my-auto">
				<input type="text" class="form-control form-control-sm" id="author" placeholder="your name">
			</div>
			<div class="col-2">
				<button type="submit" class="btn btn-primary btn-sm" id="btn-author-submit">
					OK
				</button>
			</div>
		</div>
	</form>
</div>

<div id="overlay" class="fade2">
	<div class="overlay-content">
	</div>
</div>

<button id="btn-floating-action" hidden title="Open actions list">
	<img src="img/palette.png" width="56" height="56" alt="Palette">
</button>

<div class="btn-toolbar" role="toolbar" aria-label="Toolbar" id="toolbar" style="z-index: 2" hidden>
	<div class="mt-auto mb-1 mr-2" style="max-height: 46px">
		<a href="https://www.patreon.com/bePatron?u=23440273" class="patreon" title="Become a patron">
			<img src="img/patreon.svg" width="16" height="15" alt="Patreon">
			<span class="ml-2">Become a patron</span>
		</a>
	</div>
	<button type="button" class="btn btn-black" data-toggle="modal" data-target="#sketches-modal" title="Choose another sketch">
		<img src="img/module.png" width="32" height="32" alt="Sketch">
		<span class="overlay-label">Change Sketch</span>
	</button>
	<button type="button" class="btn btn-black" data-toggle="modal" data-target="#layers-modal" title="Layers">
		<img src="img/layers.png" width="32" height="32" alt="Layers">
		<span class="overlay-label">Layers</span>
	</button>
	<button type="button" class="btn btn-black" data-toggle="modal" data-target="#background-gen-modal" title="Change parameters">
		<img width="32" height="32" src="img/gear_in.png" alt="Parameters">
		<span class="overlay-label">Parameters</span>
	</button>
	<div class="btn-group" role="group" aria-label="Randomization controls" id="generate-btn-group">
		<button type="button" class="btn btn-black" id="btn-generate-background" title="Randomize">
			<img width="32" height="32" src="img/dice.png" alt="Dice">
			<span class="overlay-label">Randomize</span>
		</button>
		<button type="button" class="btn btn-black dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Randomization options">
			<span class="sr-only">Toggle randomization options</span>
		</button>
		<div class="dropdown-menu dropdown-menu-right bg-black">
			<form class="px-2" id="random-seed-form">
				<div class="form-group">
					<label for="random-seed">Seed</label>
					<textarea class="form-control text-right" id="random-seed" rows="8" minlength="7" style="resize: none"></textarea>
				</div>
				<div class="text-right">
					<button type="submit" class="btn btn-primary btn-sm">Set Seed</button>
				</div>
			</form>
		</div>
	</div>
	<button type="button" class="btn btn-black" id="btn-start-frame" title="Set start frame">
		<img width="32" height="32" src="img/timeline_marker_start.png" alt="Start Frame">
		<span class="overlay-label">Start frame</span>
	</button>
	<button type="button" class="btn btn-black" id="btn-end-frame" title="Set end frame">
		<img width="32" height="32" src="img/timeline_marker_end.png" alt="End Frame">
		<span class="overlay-label">End frame</span>
	</button>
	<button type="button" class="btn btn-black" id="btn-both-frames" title="Set start &amp; end frames">
		<img width="32" height="32" src="img/timeline_marker_both.png" alt="Both Frames">
		<span class="overlay-label">Both frames</span>
	</button>
	<div class="btn-group position-static" role="group" aria-label="Animation controls" id="play-btn-group">
		<button type="button" class="btn btn-black position-relative" id="btn-play" title="Play animation">
			<img width="32" height="32" src="img/control_play_blue.png" alt="Play">
			<img width="16" height="16" src="img/record.png" style="position: absolute; top: 4px; right: 5px" id="play-badge" hidden>
			<span class="overlay-label">Play</span>
		</button>
		<button type="button" class="btn btn-black dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Animation options" id="btn-anim-controls">
			<span class="sr-only">Toggle playback options</span>
 		</button>
 		<div class="dropdown-menu dropdown-menu-abs-right bg-black" style="width: min(100%, 500px)" id="anim-controls">
 			<form class="px-2">
 				<div class="form-row">
 					<div class="col-7">
	 					<label for="anim-position">Position</label>
 					</div>
 					<div class="col-2 text-right">
 						<output id="anim-position-readout">10s</output>
 					</div>
 					<div class="col-3 pl-3">
	 					<label for="anim-length">Length</label>
 					</div>
 				</div>
 				<div class="form-row mb-2">
	 				<div class="col-9">
	 					<input type="range" min="0" max="1" step="any" value="1" class="form-control-range mt-2" id="anim-position">
	 				</div>
	 				<div class="col-3 pl-3 pr-2">
	 					<div class="input-group input-group-sm">
	 						<input type="number" min="1" value="10" class="form-control text-right" id="anim-length" aria-describedby="anim-length-units">
	 						<div class="input-group-append">
	 							<span class="input-group-text bg-dark text-white" id="anim-length-units">s</span>
	 						</div>
	 					</div>
	 				</div>
 				</div>
 				<div class="form-row" id="play-preview-row">
 					<div class="col-5">
						<div class="form-check mt-1">
							<input class="form-check-input" type="radio" name="play-preview" id="play-preview-fast" value="1">
							<label class="form-check-label small" for="play-preview-fast">
								High performance preview
							</label>
						</div>
 					</div>
 					<div class="col-3">
						<div class="form-check mt-1">
							<input class="form-check-input" type="radio" name="play-preview" id="play-preview-detail" value="0">
							<label class="form-check-label small" for="play-preview-detail">
								Full detail
							</label>
						</div>
 					</div>
 					<div class="col-1 text-right">
 						<button type="button" class="btn btn-sm" title="Rewind animation" id="btn-rewind">
 							<img src="img/control_rewind_blue.png" width="24" height="24" alt="Rewind">
 						</button>
 					</div>
	 				<div class="col-3 pl-3 pr-2">
	 					<button type="button" class="btn btn-sm btn-dark w-100" id="btn-anim-opts" title="Advanced animation options">More&hellip;</button>
	 				</div>
 				</div>
 			</form>
 		</div>
  	</div>
	<button type="button" class="btn btn-black" data-toggle="modal" data-target="#save-pic-modal" title="Download picture">
		<img width="32" height="32" src="img/picture_save.png" alt="Download">
		<span class="overlay-label">Save image</span>
	</button>
	<button type="button" class="btn btn-black" id="btn-video-opts" title="Create video">
		<img width="32" height="32" src="img/film.png" alt="Video">
		<span class="overlay-label">Video</span>
	</button>
	<div class="btn-group" id="save-dropdown" hidden>
		<button type="button" class="btn btn-black" id="btn-save-form" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Save parameters">
			<img width="32" height="32" src="img/diskette.png" alt="Save">
			<span class="overlay-label">Save</span>
		</button>
		<div class="dropdown-menu dropdown-menu-right bg-black" aria-labelledby="btn-save-form" style="width: 375px">
			<form class="px-2" id="save-form">
				<div class="form-group">
					<label for="work-title">Title</label>
					<input type="text" required class="form-control form-control-sm" id="work-title" autocomplete="off" pattern="\s*\S\S.*" title="Must be at least 2 characters long.">
				</div>
				<div class="form-group">
					<label for="work-keywords">Keywords</label>
					<input type="text" class="form-control form-control-sm" id="work-keywords" aria-describedby="work-keywords-help">
					<small id="work-keywords-help" class="form-text text-muted">
						Separate your keywords using commas.
					</small>
				</div>
				<output id="save-result"></output>
				<div class="text-right">
					<button type="submit" class="btn btn-primary btn-sm" id="btn-save">Save</button>
				</div>
			</form>
		</div>
	</div>
	<button type="button" class="btn btn-black" id="btn-what-is-this" title="&quot;What's This?&quot; Help">
		<img width="32" height="32" src="img/what-is-this.svg" alt="What's This?">
		<span class="overlay-label">What's this?</span>
	</button>
	<button type="button" class="btn btn-black" data-toggle="modal" data-target="#help-modal" title="Help">
		<img width="32" height="32" src="img/help_32.png" alt="Help">
		<span class="overlay-label">General help</span>
	</button>
</div>

<div class="modal modal-floating fade p-0" id="background-gen-modal" tabindex="-1" role="dialog" aria-labelledby="background-gen-modal-label" aria-hidden="true" data-backdrop="false">
	<div class="modal-dialog m-0" role="document">
		<div class="modal-content">
			<div class="modal-header d-none d-md-flex">
				<h6 class="modal-title" id="background-gen-modal-label"></h6>
				<button type="button" class="window-gadget collapse-gadget" title="Collapse">
					<img src="img/collapse.svg" width="13" height="13" alt="Collapse">
				</button>
				<button type="button" class="window-gadget close" data-dismiss="modal" title="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body collapse show" id="background-gen-options">
				<!-- JavaScript generated content goes here.-->
			</div>
		</div>
	</div>
</div>

<div class="modal modal-floating fade p-0 max-w-fit" id="layers-modal" tabindex="-1" role="dialog" aria-labelledby="layers-modal-title" aria-hidden="true" data-backdrop="false" style="min-width: 300px">
	<div class="modal-dialog m-0" role="document">
		<div class="modal-content">
			<div class="modal-header d-none d-md-flex">
				<h6 class="modal-title" id="layers-modal-title">Layers</h6>
				<button type="button" class="window-gadget collapse-gadget" title="Collapse">
					<img src="img/collapse.svg" width="13" height="13" alt="Collapse">
				</button>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body collapse show">
				<ul class="nav nav-tabs mb-3" role="tablist">
					<li class="nav-item" role="presentation">
						<a class="nav-link active" id="background-layer-tab" data-toggle="tab" href="#background-layer" role="tab" aria-controls="background-layer" aria-selected="true">
							Background
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link" id="layers-tab" data-toggle="tab" href="#layers" role="tab" aria-controls="layers" aria-selected="false">
							Sketch
						</a>
					</li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="background-layer" role="tabpanel" aria-labelledby="background-layer-tab">
						<div class="form-row form-group">
							<label class="col-3 col-form-label col-form-label-sm" for="background-preset">
								Backdrop
							</label>
							<div class="col-9">
								<select class="form-control form-control-sm" id="background-preset">
									<option value="color">Single Colour</option>
									<option value="brick">Brick Wall</option>
									<option value="brick-close-up">Brick (Close-Up)</option>
									<option value="cardboard">Cardboard</option>
									<option value="carpet">Carpet</option>
									<option value="clay">Clay</option>
									<option value="concrete">Concrete</option>
									<option value="cork-board">Cork Board</option>
									<option value="grass">Grass</option>
									<option value="laminate">Laminate</option>
									<option value="leaves">Leaves</option>
									<option value="log">Log</option>
									<option value="paper">Paper</option>
									<option value="slate">Slate</option>
									<option value="stone">Stone</option>
									<option value="stone-2">Stone 2</option>
									<option value="stone-wall">Stone Wall</option>
									<option value="stone-wall-2">Stone Wall 2</option>
									<option value="water">Water</option>
									<option value="wood">Wood</option>
									<option value="wood-2">Wood 2</option>
									<option value="wood-3">Wood 3</option>
									<option value="wood-4">Wood 4</option>
									<option value="wood-floor">Wood Floor</option>
									<option value="wood-floor-2">Wood Floor 2</option>
								</select>
							</div>
						</div>
						<div class="form-row collapse show" id="background-color-row">
							<label class="col-3 col-form-label col-form-label-sm" for="background-color">
								Colour
							</label>
							<div class="col-2">
								<input type="color" value="#ffffff" class="w-100 mt-1" id="background-color">
							</div>
						</div>
					</div>

					<div class="tab-pane" id="layers" role="tabpanel" aria-labelledby="layers-tab" style="width: 460px">
						<div class="form-row form-group">
							<div class="col-1"></div>
							<label class="col-2 col-form-label col-form-label-sm" for="layer-opacity">
								Opacity
							</label>
							<div class="col-9">
								<input type="range" min="0" max="1" step="0.004" value="1" class="form-control-range mt-2" id="layer-opacity">
							</div>
						</div>
						<div class="form-row mb-2">
							<div class="col-1"></div>
							<label class="col-2 col-form-label col-form-label-sm" for="layer-rotation">
								Rotation
							</label>
							<div class="col-7">
								<input type="range" min="-1" max="1" value="0" step="0.002" class="form-control-range mt-2" id="layer-rotation">
							</div>
							<div class="col-2 text-center">
								<button type="button" class="btn btn-light py-0" id="layer-rotation-reset" title="Reset rotation">
									<img width="16" height="16" src="img/cross.png" alt="Reset">
								</button>
							</div>
						</div>
						<div class="form-row form-group" id="rotation-sizing-row" style="height: 160px">
							<div class="col-4 text-center" title="No adjustment">
								<div class="form-check text-center">
									<label class="form-check-label mb-2" for="rotation-size-screen">
										<img src="img/rotate-as-is.svg" class="w-100" loading="lazy" alt="No adjustment">
									</label>
									<input type="radio" name="rotation-sizing" value="1" id="rotation-size-screen" aria-label="Rotate without any size adjustment" checked>
								</div>
							</div>
							<div class="col-4 text-center" title="Fit screen">
								<div class="form-check text-center">
									<label class="form-check-label mb-2" for="rotation-size-square">
										<img src="img/rotate-square.svg" class="w-100" loading="lazy" alt="Fit screen">
									</label>
									<input type="radio" name="rotation-sizing" value="0" id="rotation-size-square" aria-label="Fit everything on screen when rotating">
								</div>
							</div>
							<div class="col-4 text-center" title="Fill screen">
								<div class="form-check text-center">
									<label class="form-check-label mb-2" for="rotation-size-fill">
										<img src="img/rotate-hypotenuse.svg" class="w-100" loading="lazy" alt="Fill screen">
									</label>
									<input type="radio" name="rotation-sizing" value="2" id="rotation-size-fill" aria-label="Always fill the screen when rotating">
								</div>
							</div>
						</div>
						<div class="form-row form-group">
							<div class="col-1"></div>
							<label class="col-2 col-form-label col-form-label-sm" for="layer-scale">
								Size
							</label>
							<div class="col-9">
								<input type="range" min="0" max="1" step="0.005" value="1" class="form-control-range mt-2" id="layer-scale">
							</div>
						</div>
						<div class="form-row">
							<label class="col-1"></label>
							<label class="col-2 col-form-label col-form-label-sm" for="layer-blur">
								Blur
							</label>
							<div class="col-9">
								<input type="range" min="0.4" max="1" step="0.01" value="0.4" class="form-control-range mt-2" id="layer-blur">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade2" id="sketches-modal" tabindex="-1" role="dialog" aria-labelledby="sketches-modal-title" aria-hidden="true">
	<div class="modal-dialog modal-wide" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="sketches-modal-title">Choose A Sketch</h6>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close" hidden>
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="card-deck btn-group-toggle thumbnails m-0 px-1 border" data-toggle="buttons" id="sketch-list" style="min-height: calc(5.45rem + 174px)">
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal" hidden>Cancel</button>
			  	<button class="btn btn-primary" id="btn-open-sketch" disabled>Select</button>
			</div>
		</div>
	</div>
</div>

<div id="background-gen-image" hidden>
	<input type="file" id="background-gen-image-upload" accept="image/*" hidden>
	<label class="btn btn-form btn-sm" for="background-gen-image-upload">Browse&hellip;</label>
</div>

<div class="modal fade2" id="assign-bg-change-modal" tabindex="-1" role="dialog" aria-labelledby="assign-bg-change-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="assign-bg-change-modal-title">Unsaved Changes</h6>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<p class="form-text">
					You have outstanding changes. How do you wish to proceed?
				</p>
				<ul class="list-unstyled mb-0">
					<li class="mb-2">
						<button type="button" class="btn btn-primary w-100" id="btn-start-frame2" data-dismiss="modal">
							Change start frame
						</button>
					</li>
					<li class="mb-2">
						<button type="button" class="btn btn-primary w-100" id="btn-end-frame2" data-dismiss="modal">
							Change end frame
						</button>
					</li>
					<li class="mb-2">
						<button type="button" class="btn btn-secondary w-100" id="btn-both-frames2" data-dismiss="modal">
							Change both frames
						</button>
					</li>
					<li class="mb-2">
						<button type="button" class="btn btn-danger w-100" id="btn-bg-change-discard" data-dismiss="modal">
							Discard changes
						</button>
					</li>
					<li>
						<button type="button" class="btn btn-secondary w-100" data-dismiss="modal">
							Cancel
						</button>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="modal fade2" id="play-mode-modal" tabindex="-1" role="dialog" aria-labelledby="play-mode-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="play-mode-modal-title">Playback Mode</h6>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<p class="form-text">
					How do you wish to play this animation?
				</p>
				<ul class="list-unstyled">
					<li class="mb-2">
						<button type="button" class="btn btn-primary w-100 text-left" id="btn-play-fast" value="1" data-dismiss="modal">
							<h5>High Performance Preview Mode</h5>
							<div class="font-italic pl-1">
								Some finer details not drawn but smoother animation.
							</div>
						</button>
					</li>
					<li>
						<button type="button" class="btn btn-dark w-100 text-left" id="btn-play-detail" value="0" data-dismiss="modal">
							<h5>Fully Detailed Playback</h5>
							<div class="font-italic pl-1">
								All details drawn but might be more jerky.
							</div>
						</button>
					</li>
				</ul>
				<p class="form-text">
					You can choose again at any time by clicking the arrow next to the play button. When you save an image or a video it always includes every detail.
				</p>
			</div>
		</div>
	</div>
</div>

<div class="modal fade2" id="anim-opts-modal" tabindex="-1" role="dialog" aria-labelledby="anim-opts-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="anim-opts-modal-title">Animation Options</h6>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-row form-group">
					<div class="col-1"></div>
					<div class="col-3 col-form-label col-form-label-sm">
						Looping
					</div>
					<div class="col-7">
						<div class="form-check mt-1">
							<input class="form-check-input" type="checkbox" id="anim-loop">
							<label class="form-check-label small" for="anim-loop">
								Rollback some parameters to their start positions
							</label>
						</div>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm">
						Full Rotations
					</label>
					<div class="col-2">
						<input type="number" min="0" value="0" id="background-rotations" class="form-control form-control-sm">
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade2" id="video-modal" tabindex="-1" role="dialog" aria-labelledby="video-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="video-modal-title">Video Rendering</h6>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body" id="video-modal-body">
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-resolution">
						Resolution
					</label>
					<div class="col-7 col-md-5">
						<select class="form-control form-control-sm w-100" id="video-resolution">
							<option value="640x360">360p</option>
							<option value="854x480">480p</option>
							<option value="1280x720">720p</option>
							<option value="1920x1080">1080p</option>
						</select>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-framerate">
						Frame Rate
					</label>
					<div class="col-7 col-md-5">
						<div class="input-group input-group-sm">
							<input type="number" min="1" value="50" class="form-control" id="video-framerate" list="framerate-list" aria-describedby="framerate-units">
							<datalist id="framerate-list">
								<option>60</option>
								<option>50</option>
								<option>30</option>
								<option>25</option>
								<option>20</option>
								<option>15</option>
								<option>12</option>
								<option>10</option>
								<option>6</option>
								<option>5</option>
								<option>4</option>
								<option>3</option>
								<option>2</option>
								<option>1</option>
							</datalist>
							<div class="input-group-append w-60">
								<span class="input-group-text w-100" id="framerate-units">FPS</span>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-format">
						Format
					</label>
					<div class="col-7 col-md-5">
						<select class="form-control form-control-sm" id="video-format">
							<option value="webm" selected>WebM Video</option>
							<option value="jpg">JPEG Images</option>
							<option value="png">PNG Images</option>
							<option value="webp">WebP Images</option>
						</select>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-quality">
						Quality
					</label>
					<div class="col-5 col-md-4">
						<input type="range" min="0" max="100" value="85" class="form-control-range mt-2" id="video-quality" aria-describedby="video-quality-readout">
					</div>
					<div class="col-2 col-md-1">
						<output id="video-quality-readout" class="small">85%</output>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="motion-blur">
						Motion Blur
					</label>
					<div class="col-7 col-md-5">
						<div class="input-group input-group-sm">
							<input type="number" min="0" value="0" class="form-control" id="motion-blur" aria-describedby="motion-blur-units">
							<div class="input-group-append w-60">
								<span class="input-group-text w-100" id="motion-blur-units">frames</span>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row form-group align-items-center invisible" id="video-progress-row">
					<div class="col-1"></div>
					<div class="col-2 col-form-label col-form-label-sm">
						Progress
					</div>
					<div class="col-1">
						<img src="img/record.png" width="16" height="16" loading="lazy" alt="Recording" id="recording-indicator">
					</div>
					<div class="col-8">
						<div class="progress bg-dark" style="height: 20px">
						  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0; transition: unset" id="video-progress">0%</div>
						</div>
					</div>
				</div>
				<div class="pl-1">
					<small class="form-text text-muted">
						Switching to another browser tab will pause video rendering.
					</small>
				</div>
				<div class="alert alert-danger fade" id="video-error" hidden></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" id="btn-cancel-video">
					Close
				</button>
				<button type="button" class="btn btn-primary" id="btn-render-video">
					Render
				</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade2" id="save-pic-modal" tabindex="-1" role="dialog" aria-labelledby="save-pic-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<form id="export-form" class="modal-content">
			<div class="modal-header">
				<h6 class="modal-title" id="save-pic-modal-title">Download Picture</h6>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body form-row form-group">
				<div class="col-1"></div>
				<div class="col-11">
					<div class="form-check">
						<input class="form-check-input" type="radio" name="paper-type" id="paper-type-color" value="color" checked>
						<label class="form-check-label" for="paper-type-color">
							Include background colour
						</label>
					</div>
					<div class="form-check">
						<input class="form-check-input" type="radio" name="paper-type" id="paper-type-transparent" value="transparent">
						<label class="form-check-label" for="paper-type-transparent">
							Transparent background
						</label>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			  	<a class="btn btn-primary" href="#" id="btn-download" role="button">Download</a>
			</div>
		</form>
	</div>
</div>

<div class="modal fade2" id="help-modal" tabindex="-1" role="dialog" aria-labelledby="help-intro-tab" aria-hidden="true">
	<div class="modal-dialog modal-wide" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<ul class="nav nav-tabs bg-transparent p-0" role="tablist">
					<li class="nav-item" role="presentation">
						<a class="nav-link active" id="help-intro-tab" data-toggle="tab" href="#help-intro" role="tab" aria-controls="help-intro" aria-selected="true">
							Help
						</a>
					</li>
					<li class="nav-item" role="presentation">
						<a class="nav-link" id="help-sketch-tab" data-toggle="tab" href="#help-sketch" role="tab" aria-controls="help-sketch">
							About this Sketch
						</a>
					</li>
				</ul>
				<button type="button" class="window-gadget close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true" class="align-text-top">&times;</span>
				</button>
			</div>
			<div class="modal-body pt-2">
				<div class="tab-content px-1 text-justify-md">
					<div class="tab-pane show active h-100" id="help-intro" role="tabpanel" aria-labelledby="help-intro-tab">
						<h6>Welcome to Mathematical Art With Elizabeth!</h6>

						<p>Mathematical art, also known as algorithmic art, generative art or creative coding, is using geometry to make art. I've created a collection of sketches, each of which produces a simple figure as a starting point for creation. Your task is to adjust the parameters to create something visually appealing. The finished piece will combine my programming, your choice of parameter settings, and in some cases pseudorandom aspects generated by the computer. Most activities are initiated using buttons located in the bottom-right corner of the window. Click on <span class="btn btn-sm btn-black d-inline-block"><img src="img/help.png" alt="Help"></span> at any time to open this window again. Under About this Sketch at the top of this window you can read some introductory information about the currently selected sketch. Use the "What's this?" button <span class="btn btn-sm btn-black d-inline-block"><img src="img/what-is-this.svg" alt="What's This?" width="16"></span> to get help with a particular item.</p>

						<p>Using the toolbar, click on <span class="btn btn-sm btn-black d-inline-block"><img src="img/module.png" alt="Sketch" width="16" height="16"></span> to choose a sketch to experiment with. Click the cog icon <span class="btn btn-sm btn-black d-inline-block"><img src="img/gear_in.png" alt="Parameters" width="16" height="16"></span> to open or close the sketch input parameters window. You might need to scroll down to see some parameters. Some sketches also have a build icon <span class="btn btn-sm btn-black d-inline-block"><img src="img/dice.png" alt="Build" width="16" height="16"></span>, which creates a new picture using a different set of random numbers. You can place a background behind your creation using the layers window <span class="btn btn-sm btn-black d-inline-block"><img src="img/layers.png" width="16" height="16" alt="Layers"></span>. When you've created a picture you like then you can think about animating your production if you wish. Click to either set the start frame <span class="btn btn-sm btn-black"><img src="img/timeline_marker_start.png" alt="Start Frame" width="16" height="16"></span> or set the end frame <span class="btn btn-sm btn-black d-inline-block"><img src="img/timeline_marker_end.png" alt="End Frame" width="16" height="16"></span> to make the current picture become either the starting point or the finishing point of the animation. After you have one frame set up then change the parameters to design a second picture to appear at the other end of the animation. Once you have your two frames marked then you're ready to play back your animation using the play icon <span class="btn btn-sm btn-black d-inline-block"><img src="img/control_play_blue.png" alt="Play" width="16" height="16"></span>. You can make your animation longer or shorter by clicking on the arrow next to the play icon. With a subsequent click on the <span class="btn btn-sm btn-dark d-inline-block">More&hellip;</span> button you can access more advanced animation options.</p>

						<p>To save your animation as a video file click on <span class="btn btn-sm btn-black d-inline-block"><img src="img/film.png" alt="Video" width="16" height="16"></span>, or click <span class="btn btn-sm btn-black d-inline-block"><img src="img/picture_save.png" alt="Download" width="16" height="16"></span> to save the current image as a photo. You can even add an artist's signature to your creations by clicking in the bottom-left corner.</p>

						<p>If you find anything broken you can report it on <a href="https://github.com/mathematical-art/mathematical-art.github.io/issues" target="_blank" rel="noopener"> GitHub</a>, and feel free to make suggestions for future enhancements there too. I hope you enjoy the site, whether your interests are art, maths, entertainment, relaxing visual stimuli, or something else. If you want to and are able to then please consider supporting my work via <a href="https://www.patreon.com/bePatron?u=23440273">Patreon</a> or by sharing a link on social media.</p>

						<p>There's documentation available on <a href="sketch/help/custom-sketches.html" target="_blank" rel="noopener">making your own sketches</a> for those familiar with JavaScript. The background images were produced by <a href="http://www.highresolutiontextures.com" target="_blank" rel="noopener">highresolutiontextures.com</a> and other free sites. The site contains icons licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> from <a target="_blank" rel="noopener" href="http://www.fatcow.com/free-icons">fatcow.com</a> and <a target="_blank" rel="noopener" href="https://www.iconshock.com">iconshock</a>.</p>

						<div class="form-check text-center">
							<input class="form-check-input" id="show-welcome" type="checkbox" checked>
							<label class="form-check-label" for="show-welcome">
								Show this window at start-up.
							</label>
						</div>
					</div>

					<div class="tab-pane h-100" id="help-sketch" role="tabpanel" aria-labelledby="help-sketch-tab">
						No sketches have been loaded yet.
					</div>

				</div>
			</div>
			<div class="modal-footer justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal">Let's Go!</button>
			</div>
		</div>
	</div>
</div>

</body>
</html>
