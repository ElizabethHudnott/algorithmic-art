<!DOCTYPE html>
<html>
<head>
	<title>Algorithmic Background Generator</title>
	<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
	<link rel="icon" href="../img/spirograph.png">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link rel="stylesheet" href="ui.css">
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous" defer></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous" defer></script>
	<script src="../util.js" defer></script>
	<script src="../real-expression-parser.js" defer></script>
	<script src="ui.js" defer></script>
	<script src="../lib/CCapture.all.min.js" async></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="background-color: #ffffff">

<div class="alert alert-danger alert-dismissible fade position-absolute top-2 center-x" role="alert" id="error-alert">
	<span></span>
	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
</div>

<div class="alert alert-success alert-dismissible fade position-absolute top-2 center-x" role="alert" id="success-alert">
	<span></span>
	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
</div>

<canvas id="background-canvas"></canvas>
<form class="position-absolute bg-light p-2" hidden style="left: 0; bottom: 0; width: 300px" id="author-form">
	<div class="form-row">
		<label class="col-2 col-form-label col-form-label-sm" for="author">
			Name
		</label>
		<div class="col-8">
			<input type="text" class="form-control form-control-sm" id="author" placeholder="your name">
		</div>
		<div class="col-2">
			<button type="submit" class="btn btn-primary btn-sm">
				OK
			</button>
		</div>
	</div>
</form>

<div class="btn-toolbar floating" role="toolbar" aria-label="Toolbar" style="bottom: 0; right: 5px; z-index: 1" id="background-gen-toolbar">
	<div class="mt-auto mb-1 mr-2" style="max-height: 46px">
		<a href="https://www.patreon.com/bePatron?u=23440273" data-patreon-widget-type="become-patron-button">Become a patron</a><script async src="https://c6.patreon.com/becomePatronButton.bundle.js"></script>
	</div>

	<button type="button" class="btn btn-light" data-toggle="modal" data-target="#sketches-modal" title="Choose another sketch">
		<img src="../img/module.png" alt="Sketch">
	</button>
	<button type="button" class="btn btn-light" id="btn-background-gen-options" title="Change parameters">
		<img src="../img/gear_in.png" alt="Parameters">
	</button>
	<button type="button" class="btn btn-light" id="btn-generate-background" title="Build new background">
		<img src="../img/brick.png" alt="Build">
	</button>
	<div class="btn-group position-static" role="group" aria-label="Animation controls" id="play-btn-group">
		<button type="button" class="btn btn-light" id="btn-play" title="Play animation">
			<img src="../img/control_play_blue.png" alt="Play">
		</button>
		<button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Animation options" id="btn-anim-controls">
			<span class="sr-only">Toggle playback options</span>
 		</button>
 		<div class="dropdown-menu drop-align-right" style="width: 500px" id="anim-controls">
 			<form class="px-2 bg-white opaque">
 				<div class="form-row">
 					<div class="col-7">
	 					<label for="anim-position">Position</label>
 					</div>
 					<div class="col-1">
 						<output id="anim-position-readout">0s</output>
 					</div>
 					<div class="col-3">
	 					<label for="anim-length">Length</label>
 					</div>
 				</div>
 				<div class="form-row">
	 				<div class="col-8">
	 					<input type="range" min="0" max="1" step="any" value="0" class="form-control-range mt-1" id="anim-position" disabled>
	 				</div>
	 				<div class="col-3">
	 					<div class="input-group input-group-sm">
	 						<input type="number" min="1" value="10" class="form-control" id="anim-length" aria-describedby="anim-length-units">
	 						<div class="input-group-append">
	 							<span class="input-group-text" id="anim-length-units">s</span>
	 						</div>
	 					</div>
	 				</div>
	 				<div class="col-1">
	 					<button type="button" class="btn btn-light" id="btn-anim-opts" title="Advanced animation options">&hellip;</button>
	 				</div>
 				</div>
 			</form>
 		</div>
  	</div>
	<button type="button" class="btn btn-light" data-toggle="modal" data-target="#video-modal" title="Create video">
		<img src="../img/film.png" alt="Video">
	</button>
	<button type="button" class="btn btn-light" data-toggle="modal" data-target="#save-pic-modal" title="Download picture">
		<img src="../img/picture_save.png" alt="Download">
	</button>
	<button type="button" class="btn btn-light" data-toggle="modal" data-target="#help-modal" title="Help">
		<img src="../img/help_32.png" alt="Help">
	</button>
</div>

<div class="modal fade" id="sketches-modal" tabindex="-1" role="dialog" aria-labelledby="sketches-modal-title" aria-hidden="true">
	<div class="modal-dialog modal-wide" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="sketches-modal-title">Choose A Sketch</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="card-deck btn-group-toggle thumbnails px-2 justify-content-center" data-toggle="buttons" id="sketch-list">
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			  	<button class="btn btn-primary" id="btn-open-sketch" disabled>Select</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade p-0" id="background-gen-modal" tabindex="-1" role="dialog" aria-labelledby="background-gen-modal-label" aria-hidden="true" data-backdrop="false" style="z-index: 0">
	<div class="modal-dialog m-0" role="document">
		<div class="modal-content">
			<div class="modal-header" id="background-gen-modal-header" title="Double click to collapse">
				<h5 class="modal-title" id="background-gen-modal-label"></h5>
				<button type="button" class="close" data-dismiss="modal" title="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="collapse show" id="background-gen-modal-content">
				<div class="modal-body">
					<div id="background-gen-options">
						<!-- JavaScript generated content goes here.-->
					</div>
					<div class="form-row" style="min-height: 34px">
						<div class="col-1"></div>
						<label class="col-2 mt-1 col-form-label col-form-label-sm" for="background-rotation">
							Rotation
						</label>
						<div class="col-6">
							<input type="range" min="-1" max="1" value="0" step="0.002" class="form-control-range mt-2" id="background-rotation">
						</div>
						<div class="col-3">
							<button type="button" class="btn btn-light" id="background-rotation-reset" title="Reset rotation">
								<img src="../img/cross.png" alt="Remove">
							</button>
							<div class="btn btn-light px-0 bg-center h-100" title="Change background colour" style="background-image: url(../img/color_wheel.png)">
								<input id="paper-color" type="color" value="#ffffff" class="h-100 p-0 m-0" style="opacity: 0">
							</div>
						</div>
					</div>
					<div id="background-gen-credits" class="small"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary btn-sm" id="btn-start-frame">
						Set Start Frame
					</button>
					<button type="button" class="btn btn-secondary btn-sm" id="btn-end-frame">
						Set End Frame
					</button>
					<button type="button" class="btn btn-secondary btn-sm" id="btn-both-frames">
						Set Both
					</button>
					<button type="button" class="btn btn-primary btn-sm" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="custom-file small" hidden id="background-gen-image">
	<input type="file" class="custom-file-input" id="background-gen-image-upload" accept="image/*">
	<label class="custom-file-label" for="background-gen-image-upload" id="background-gen-image-label">
		No image
	</label>
</div>

<div class="modal fade" id="anim-opts-modal" tabindex="-1" role="dialog" aria-labelledby="anim-opts-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="anim-opts-modal-title">Animation Options</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-row form-group">
					<div class="col-1"></div>
					<div class="col-3 col-form-label">
						Looping
					</div>
					<div class="col-7">
						<div class="form-check mt-2">
							<input class="form-check-input" type="checkbox" id="anim-loop">
							<label class="form-check-label" for="anim-loop">
								Rollback some parameters to their start positions
							</label>
						</div>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label">
						Full Rotations
					</label>
					<div class="col-3">
						<input type="number" value="0" id="background-rotations" class="form-control">
					</div>
				</div>
				<div class="form-row mb-2">
					<div class="col-1"></div>
					<div class="col-11 col-form-label">
						Rotational Geometry
					</div>
				</div>
				<div class="row">
					<div class="col-4 text-center" title="No size adjustment">
						<div class="form-check text-center">
							<label class="form-check-label mb-2" for="bg-rotation-size-screen">
								<img src="../img/rotate-as-is.svg" class="w-100" alt="No adjustment">
							</label>
							<input type="radio" class="form-check-label position-static" name="bg-rotation-sizing" id="bg-rotation-size-screen" aria-label="Rotate without any size adjustment" checked>
						</div>
					</div>
					<div class="col-4 text-center" title="Resize to fit everything on screen">
						<div class="form-check text-center">
							<label class="form-check-label mb-2" for="bg-rotation-size-square">
								<img src="../img/rotate-square.svg" class="w-100" alt="Fit screen">
							</label>
							<input type="radio" class="form-check-label position-static" name="bg-rotation-sizing" id="bg-rotation-size-square" aria-label="Fit everything on screen when rotating">
						</div>
					</div>
					<div class="col-4 text-center" title="Fill the screen">
						<div class="form-check text-center">
							<label class="form-check-label mb-2" for="bg-rotation-size-fill">
								<img src="../img/rotate-hypotenuse.svg" class="w-100" alt="Fill screen">
							</label>
							<input type="radio" class="form-check-label position-static" name="bg-rotation-sizing" id="bg-rotation-size-fill" aria-label="Always fill the screen when rotating">
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="video-modal" tabindex="-1" role="dialog" aria-labelledby="video-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="video-modal-title">Video Rendering</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body" id="video-modal-body">
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-resolution">
						Resolution
					</label>
					<div class="col-5">
						<select class="form-control-sm w-100" id="video-resolution">
							<option value="640x360">360p</option>
							<option value="854x480">480p</option>
							<option value="1280x720">720p</option>
							<option value="1920x1080">1080p</option>
						</select>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-framerate">
						Frame Rate
					</label>
					<div class="col-5">
						<div class="input-group input-group-sm">
							<input type="number" min="1" value="50" class="form-control" id="video-framerate" list="framerate-list" aria-describedby="framerate-units">
							<datalist id="framerate-list">
								<option>60</option>
								<option>50</option>
								<option>30</option>
								<option>25</option>
								<option>20</option>
								<option>15</option>
								<option>12</option>
								<option>10</option>
								<option>6</option>
								<option>5</option>
								<option>4</option>
								<option>3</option>
								<option>2</option>
								<option>1</option>
							</datalist>
							<div class="input-group-append w-60">
								<span class="input-group-text w-100" id="framerate-units">FPS</span>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-format">
						Output
					</label>
					<div class="col-5">
						<select class="form-control form-control-sm" id="video-format">
							<option value="webm" selected>WebM Video</option>
							<option value="gif">Animated GIF</option>
							<option value="png">PNG Stills</option>
							<option value="jpg">JPEG Stills</option>
						</select>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-quality">
						Quality
					</label>
					<div class="col-4">
						<input type="range" min="0" max="100" value="70" class="form-control-range mt-1" id="video-quality" aria-describedby="video-quality-readout">
					</div>
					<div class="col-1">
						<output id="video-quality-readout" class="small">70%</output>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="motion-blur">
						Motion Blur
					</label>
					<div class="col-5">
						<div class="input-group input-group-sm">
							<input type="number" min="0" value="0" class="form-control" id="motion-blur" aria-describedby="motion-blur-units">
							<div class="input-group-append w-60">
								<span class="input-group-text w-100" id="motion-blur-units">frames</span>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row form-group">
					<div class="col-1"></div>
					<label class="col-3 col-form-label col-form-label-sm" for="video-start">
						Start
					</label>
					<div class="col-5">
						<div class="input-group input-group-sm">
							<input type="number" min="0" value="0" class="form-control" placeholder="seconds" id="video-start" aria-describedby="video-start-units">
							<div class="input-group-append w-60">
								<span class="input-group-text w-100" id="video-start-units">s</span>
							</div>
						</div>
					</div>
				</div>
				<div class="form-row form-group align-items-center" hidden id="video-progress-row">
					<div class="col-1"></div>
					<div class="col-2 col-form-label col-form-label-sm">
						Progress
					</div>
					<div class="col-1">
						<img src="../img/record.png" width="16" height="16" alt="Recording" id="recording-indicator">
					</div>
					<div class="col-8">
						<div class="progress bg-dark" style="height: 20px">
						  <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0; transition: unset" id="video-progress">0%</div>
						</div>
					</div>
				</div>
				<div class="alert alert-danger fade" id="video-error"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" id="btn-stop-video-render" disabled>
					Abort
				</button>
				<button type="button" class="btn btn-secondary" data-dismiss="modal">
					Close
				</button>
				<button type="button" class="btn btn-primary" id="btn-render-video">
					Render
				</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="save-pic-modal" tabindex="-1" role="dialog" aria-labelledby="save-pic-modal-title" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<form id="export-form" class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="save-pic-modal-title">Download Picture</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body form-row form-group">
				<div class="col-1"></div>
				<div class="col-11">
					<div class="form-check">
						<input class="form-check-input" type="radio" name="paper-type" id="paper-type-color" value="color" checked>
						<label class="form-check-label" for="paper-type-color">
							Include background colour
						</label>
					</div>
					<div class="form-check">
						<input class="form-check-input" type="radio" name="paper-type" id="paper-type-transparent" value="transparent">
						<label class="form-check-label" for="paper-type-transparent">
							Transparent background
						</label>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			  	<a class="btn btn-primary" href="#" id="btn-download" role="button">Download</a>
			</div>
		</form>
	</div>
</div>

<div class="modal fade show" id="help-modal" tabindex="-1" role="dialog" aria-labelledby="help-modal-title" aria-hidden="true">
	<div class="modal-dialog modal-wide" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="help-modal-title">Welcome to Creative Coding With Elizabeth!</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<p>Creative coding, also known as generative art or algorithmic art, is the use of computer programming to make art. I've created a collection of sketches, each of which produces a simple figure as a starting point for creation. Your task is to adjust the parameters to create something visually appealing. The finished piece will combine my programming, your choice of parameter settings, and in some cases pseudorandom aspects generated by the computer. Most activities are initiated using buttons located in the bottom right corner of the window. Click on <span class="btn btn-sm btn-light d-inline-block"><img src="../img/help.png" alt="Help"></span> at any time to see this message again.</p>

				<p>Click on <span class="btn btn-sm btn-light d-inline-block"><img src="../img/module.png" alt="Sketch" width="16"></span> to choose a sketch to experiment with. Click the cog icon <span class="btn btn-sm btn-light d-inline-block"><img src="../img/gear_in.png" alt="Parameters" width="16"></span> to adjust the sketch's input parameters. Some sketches also have a build icon <span class="btn btn-sm btn-light d-inline-block"><img src="../img/brick.png" alt="Build" width="16"></span>, which creates a new picture using a different set of random numbers. When you've created a picture you like then you can think about animating your production if you wish. Click on either <span class="btn btn-sm btn-secondary d-inline-block">Set Start Frame</span> or <span class="btn btn-sm btn-secondary d-inline-block">Set End Frame</span> to make the current picture become either the starting point or the finishing point of the animation. After you have one frame set up then change the parameters to design a second picture to appear at the other end of the animation. Once you have your two frames marked then you're ready to play back your animation using the play icon <span class="btn btn-sm btn-light d-inline-block"><img src="../img/control_play_blue.png" alt="Play" width="16"></span>. You can make your animation longer or shorter by clicking on the arrow next to the play icon. With a subsequent click on the <span class="btn btn-sm btn-light d-inline-block">&hellip;</span> button you can access more advanced animation options.</p>

				<p>To save your animation as a video file click on <span class="btn btn-sm btn-light d-inline-block"><img src="../img/film.png" alt="Video" width="16"></span>, or click on <span class="btn btn-sm btn-light d-inline-block"><img src="../img/picture_save.png" alt="Download" width="16"></span> to save the current image as a photo. You can even add an artist's signature to your creations by clicking in the lower left corner.</p>

				<p>This site has been primarily tested in Google Chrome. If you find anything broken (in any browser) then you can report it on <a href="https://github.com/elizabethhudnott/algorithmic-art/issues"> GitHub</a>. If you like this kind of thing then I suggest checking out my <a href="../index.html">Spirograph</a> program too. And if you're familiar with JavaScript then there's documentation on how to <a href="custom-sketches.html">make your sketches</a>. This site contains icons licensed under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> from <a target="_blank" href="http://www.fatcow.com/free-icons">fatcow.com</a>.</p>

				<div class="form-check text-center">
					<input class="form-check-input" id="show-welcome" type="checkbox" checked>
					<label class="form-check-label" for="show-welcome">
						Display this message at start up.
					</label>
				</div>
			</div>
			<div class="modal-footer justify-content-center">
				<button type="button" class="btn btn-success" data-dismiss="modal">Let's Go!</button>
			</div>
		</div>
	</div>
</div>

</body>
</html>
